@model WebApp.Models.CulturalHeritageDetailsViewModel

<h2>@Model.Name</h2>

@if (!string.IsNullOrEmpty(Model.ImageUrl))
{
    <img src="@Model.ImageUrl"
         alt="@Model.Name"
         class="img-fluid mb-3" />
}

<p>@Model.Description</p>

<p>
    <strong>Themes:</strong>
    @string.Join(", ", Model.Themes)
</p>

<h3>Comments (@Model.Comments.Count())</h3>
@foreach (var c in Model.Comments)
{
    <div class="mb-2">
        <strong>@c.Author</strong>
        <small>@c.Timestamp.ToLocalTime():g</small>
        <div>@c.Text</div>
    </div>
}

@if (User.Identity.IsAuthenticated)
{
    <form asp-action="PostComment"
          asp-route-id="@Model.Id"
          method="post"
          class="mt-3">
        @Html.AntiForgeryToken()
        <textarea asp-for="NewComment.Text"
                  class="form-control mb-2"></textarea>
        <button type="submit" class="btn btn-primary">Submit</button>
    </form>
}
