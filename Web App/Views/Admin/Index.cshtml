@* File: Views/Admin/Index.cshtml *@
@model WebApp.Models.AdminViewModel

@{
    ViewData["Title"] = "Admin Panel";
}

<h2>@ViewData["Title"]</h2>

<ul class="nav nav-tabs">
    <li class="nav-item">
        <a class="nav-link active" data-bs-toggle="tab" href="#tab-users">Users</a>
    </li>
    <li class="nav-item">
        <a class="nav-link" data-bs-toggle="tab" href="#tab-logs">Logs</a>
    </li>
</ul>

<div class="tab-content mt-3">
    <div class="tab-pane fade show active" id="tab-users">
        <table class="table table-striped">
            <thead>
                <tr>
                    <th>Id</th>
                    <th>Username</th>
                    <th>Email</th>
                    <th>Role</th>
                    <th>Registered</th>
                </tr>
            </thead>
            <tbody>
                @foreach (var u in Model.Users)
                {
                    <tr>
                        <td>@u.Id</td>
                        <td>@u.Username</td>
                        <td>@u.Email</td>
                        <td>@u.Role</td>
                        <td>@u.DateRegistered.ToString("g")</td>
                    </tr>
                }
            </tbody>
        </table>
    </div>

    <div class="tab-pane fade" id="tab-logs">
        <p>Total log entries: <strong>@Model.LogCount</strong></p>
        <table class="table table-sm table-striped">
            <thead>
                <tr>
                    <th>Timestamp</th>
                    <th>Level</th>
                    <th>Message</th>
                </tr>
            </thead>
            <tbody>
                @foreach (var l in Model.Logs)
                {
                    <tr>
                        <td>@l.Timestamp.ToString("g")</td>
                        <td>@l.Level</td>
                        <td>@l.Message</td>
                    </tr>
                }
            </tbody>
        </table>
    </div>
</div>

@section Scripts {
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
}
